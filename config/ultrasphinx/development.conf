
# Auto-generated at Sun Feb 15 23:50:17 -0800 2009.
# Hand modifications will be overwritten.
# /Users/kyle/Git/parselets_com/config/ultrasphinx/default.base
indexer {
  mem_limit = 256M
}

searchd {
  read_timeout = 5
  max_children = 300
  log = /tmp/sphinxsearchd.log
  port = 3313
  max_matches = 100000
  query_log = /tmp/sphinxquery.log
  seamless_rotate = 1
  pid_file = /tmp/sphinxsearchd.pid
  address = 127.0.0.1
}

# Source configuration

source sprigs_main
{
  sql_range_step = 5000
  sql_query_post = 
  sql_ranged_throttle = 0

      type = mysql
      sql_query_pre = SET SESSION group_concat_max_len = 65535
      sql_query_pre = SET NAMES utf8
    
sql_db = parselets_com_development
sql_host = localhost
sql_pass = 
sql_user = root
sql_query_range = SELECT MIN(id) , MAX(id) FROM sprigs 
sql_query = SELECT (sprigs.id * 4 + 0) AS id, 'Sprig' AS class, 0 AS class_id, sprigs.description AS description, user.login AS login, sprigs.name AS name, '' AS variations FROM sprigs LEFT OUTER JOIN users AS user ON user.id = sprigs.user_id WHERE sprigs.id >= $start AND sprigs.id <= $end AND (sprigs.deleted_at IS NULL AND user_id IS NOT NULL) GROUP BY sprigs.id ORDER BY sprigs.updated_at DESC

sql_attr_uint = class_id
sql_query_info = SELECT * FROM sprigs WHERE sprigs.id = (($id - 0) / 4)
}


# Source configuration

source users_main
{
  sql_range_step = 5000
  sql_query_post = 
  sql_ranged_throttle = 0

      type = mysql
      sql_query_pre = SET SESSION group_concat_max_len = 65535
      sql_query_pre = SET NAMES utf8
    
sql_db = parselets_com_development
sql_host = localhost
sql_pass = 
sql_user = root
sql_query_range = SELECT MIN(id) , MAX(id) FROM users 
sql_query = SELECT (users.id * 4 + 1) AS id, 'User' AS class, 1 AS class_id, '' AS description, users.login AS login, users.name AS name, '' AS variations FROM users WHERE users.id >= $start AND users.id <= $end GROUP BY users.id

sql_attr_uint = class_id
sql_query_info = SELECT * FROM users WHERE users.id = (($id - 1) / 4)
}


# Source configuration

source domains_main
{
  sql_range_step = 5000
  sql_query_post = 
  sql_ranged_throttle = 0

      type = mysql
      sql_query_pre = SET SESSION group_concat_max_len = 65535
      sql_query_pre = SET NAMES utf8
    
sql_db = parselets_com_development
sql_host = localhost
sql_pass = 
sql_user = root
sql_query_range = SELECT MIN(id) , MAX(id) FROM domains 
sql_query = SELECT (domains.id * 4 + 2) AS id, 'Domain' AS class, 2 AS class_id, '' AS description, '' AS login, domains.name AS name, domains.variations AS variations FROM domains WHERE domains.id >= $start AND domains.id <= $end GROUP BY domains.id

sql_attr_uint = class_id
sql_query_info = SELECT * FROM domains WHERE domains.id = (($id - 2) / 4)
}


# Source configuration

source parselets_main
{
  sql_range_step = 5000
  sql_query_post = 
  sql_ranged_throttle = 0

      type = mysql
      sql_query_pre = SET SESSION group_concat_max_len = 65535
      sql_query_pre = SET NAMES utf8
    
sql_db = parselets_com_development
sql_host = localhost
sql_pass = 
sql_user = root
sql_query_range = SELECT MIN(id) , MAX(id) FROM parselets 
sql_query = SELECT (parselets.id * 4 + 3) AS id, 'Parselet' AS class, 3 AS class_id, parselets.description AS description, user.login AS login, parselets.name AS name, domain.variations AS variations FROM parselets LEFT OUTER JOIN users AS user ON user.id = parselets.user_id LEFT OUTER JOIN domains AS domain ON domain.id = parselets.domain_id WHERE parselets.id >= $start AND parselets.id <= $end AND (parselets.deleted_at IS NULL AND user_id IS NOT NULL) GROUP BY parselets.id ORDER BY parselets.updated_at DESC

sql_attr_uint = class_id
sql_query_info = SELECT * FROM parselets WHERE parselets.id = (($id - 3) / 4)
}


# Index configuration

index main
{
  source = domains_main
  source = parselets_main
  source = sprigs_main
  source = users_main
  charset_type = utf-8
  html_index_attrs = 
  charset_table = 0..9, A..Z->a..z, -, _, ., &, a..z, U+410..U+42F->U+430..U+44F, U+430..U+44F,U+C5->U+E5, U+E5, U+C4->U+E4, U+E4, U+D6->U+F6, U+F6, U+16B, U+0c1->a, U+0c4->a, U+0c9->e, U+0cd->i, U+0d3->o, U+0d4->o, U+0da->u, U+0dd->y, U+0e1->a, U+0e4->a, U+0e9->e, U+0ed->i, U+0f3->o, U+0f4->o, U+0fa->u, U+0fd->y, U+104->U+105, U+105, U+106->U+107, U+10c->c, U+10d->c, U+10e->d, U+10f->d, U+116->U+117, U+117, U+118->U+119, U+11a->e, U+11b->e, U+12E->U+12F, U+12F, U+139->l, U+13a->l, U+13d->l, U+13e->l, U+141->U+142, U+142, U+143->U+144, U+144,U+147->n, U+148->n, U+154->r, U+155->r, U+158->r, U+159->r, U+15A->U+15B, U+15B, U+160->s, U+160->U+161, U+161->s, U+164->t, U+165->t, U+16A->U+16B, U+16B, U+16e->u, U+16f->u, U+172->U+173, U+173, U+179->U+17A, U+17A, U+17B->U+17C, U+17C, U+17d->z, U+17e->z,
  min_word_len = 1
  #   enable_star = 1
  stopwords = 
  html_strip = 0
  path = /tmp/sphinx//sphinx_index_main
  docinfo = extern
  morphology = stem_en
  #   min_infix_len = 1
}


# Source configuration

source sprigs_delta
{
  sql_range_step = 5000
  sql_query_post = 
  sql_ranged_throttle = 0

      type = mysql
      sql_query_pre = SET SESSION group_concat_max_len = 65535
      sql_query_pre = SET NAMES utf8
    
sql_db = parselets_com_development
sql_host = localhost
sql_pass = 
sql_user = root
sql_query_range = SELECT MIN(id) , MAX(id) FROM sprigs WHERE sprigs.updated_at > DATE_SUB(NOW(), INTERVAL 88200 SECOND)
sql_query = SELECT (sprigs.id * 4 + 0) AS id, 'Sprig' AS class, 0 AS class_id, sprigs.description AS description, user.login AS login, sprigs.name AS name, '' AS variations FROM sprigs LEFT OUTER JOIN users AS user ON user.id = sprigs.user_id WHERE sprigs.id >= $start AND sprigs.id <= $end AND (sprigs.deleted_at IS NULL AND user_id IS NOT NULL) AND sprigs.updated_at > DATE_SUB(NOW(), INTERVAL 88200 SECOND) GROUP BY sprigs.id ORDER BY sprigs.updated_at DESC

sql_attr_uint = class_id
sql_query_info = SELECT * FROM sprigs WHERE sprigs.id = (($id - 0) / 4)
}


# Source configuration

source users_delta
{
  sql_range_step = 5000
  sql_query_post = 
  sql_ranged_throttle = 0

      type = mysql
      sql_query_pre = SET SESSION group_concat_max_len = 65535
      sql_query_pre = SET NAMES utf8
    
sql_db = parselets_com_development
sql_host = localhost
sql_pass = 
sql_user = root
sql_query_range = SELECT MIN(id) , MAX(id) FROM users WHERE users.updated_at > DATE_SUB(NOW(), INTERVAL 88200 SECOND)
sql_query = SELECT (users.id * 4 + 1) AS id, 'User' AS class, 1 AS class_id, '' AS description, users.login AS login, users.name AS name, '' AS variations FROM users WHERE users.id >= $start AND users.id <= $end AND users.updated_at > DATE_SUB(NOW(), INTERVAL 88200 SECOND) GROUP BY users.id

sql_attr_uint = class_id
sql_query_info = SELECT * FROM users WHERE users.id = (($id - 1) / 4)
}


# Source configuration

source domains_delta
{
  sql_range_step = 5000
  sql_query_post = 
  sql_ranged_throttle = 0

      type = mysql
      sql_query_pre = SET SESSION group_concat_max_len = 65535
      sql_query_pre = SET NAMES utf8
    
sql_db = parselets_com_development
sql_host = localhost
sql_pass = 
sql_user = root
sql_query_range = SELECT MIN(id) , MAX(id) FROM domains WHERE domains.updated_at > DATE_SUB(NOW(), INTERVAL 88200 SECOND)
sql_query = SELECT (domains.id * 4 + 2) AS id, 'Domain' AS class, 2 AS class_id, '' AS description, '' AS login, domains.name AS name, domains.variations AS variations FROM domains WHERE domains.id >= $start AND domains.id <= $end AND domains.updated_at > DATE_SUB(NOW(), INTERVAL 88200 SECOND) GROUP BY domains.id

sql_attr_uint = class_id
sql_query_info = SELECT * FROM domains WHERE domains.id = (($id - 2) / 4)
}


# Source configuration

source parselets_delta
{
  sql_range_step = 5000
  sql_query_post = 
  sql_ranged_throttle = 0

      type = mysql
      sql_query_pre = SET SESSION group_concat_max_len = 65535
      sql_query_pre = SET NAMES utf8
    
sql_db = parselets_com_development
sql_host = localhost
sql_pass = 
sql_user = root
sql_query_range = SELECT MIN(id) , MAX(id) FROM parselets WHERE parselets.updated_at > DATE_SUB(NOW(), INTERVAL 88200 SECOND)
sql_query = SELECT (parselets.id * 4 + 3) AS id, 'Parselet' AS class, 3 AS class_id, parselets.description AS description, user.login AS login, parselets.name AS name, domain.variations AS variations FROM parselets LEFT OUTER JOIN users AS user ON user.id = parselets.user_id LEFT OUTER JOIN domains AS domain ON domain.id = parselets.domain_id WHERE parselets.id >= $start AND parselets.id <= $end AND (parselets.deleted_at IS NULL AND user_id IS NOT NULL) AND parselets.updated_at > DATE_SUB(NOW(), INTERVAL 88200 SECOND) GROUP BY parselets.id ORDER BY parselets.updated_at DESC

sql_attr_uint = class_id
sql_query_info = SELECT * FROM parselets WHERE parselets.id = (($id - 3) / 4)
}


# Index configuration

index delta
{
  source = domains_delta
  source = parselets_delta
  source = sprigs_delta
  source = users_delta
  charset_type = utf-8
  html_index_attrs = 
  charset_table = 0..9, A..Z->a..z, -, _, ., &, a..z, U+410..U+42F->U+430..U+44F, U+430..U+44F,U+C5->U+E5, U+E5, U+C4->U+E4, U+E4, U+D6->U+F6, U+F6, U+16B, U+0c1->a, U+0c4->a, U+0c9->e, U+0cd->i, U+0d3->o, U+0d4->o, U+0da->u, U+0dd->y, U+0e1->a, U+0e4->a, U+0e9->e, U+0ed->i, U+0f3->o, U+0f4->o, U+0fa->u, U+0fd->y, U+104->U+105, U+105, U+106->U+107, U+10c->c, U+10d->c, U+10e->d, U+10f->d, U+116->U+117, U+117, U+118->U+119, U+11a->e, U+11b->e, U+12E->U+12F, U+12F, U+139->l, U+13a->l, U+13d->l, U+13e->l, U+141->U+142, U+142, U+143->U+144, U+144,U+147->n, U+148->n, U+154->r, U+155->r, U+158->r, U+159->r, U+15A->U+15B, U+15B, U+160->s, U+160->U+161, U+161->s, U+164->t, U+165->t, U+16A->U+16B, U+16B, U+16e->u, U+16f->u, U+172->U+173, U+173, U+179->U+17A, U+17A, U+17B->U+17C, U+17C, U+17d->z, U+17e->z,
  min_word_len = 1
  #   enable_star = 1
  stopwords = 
  html_strip = 0
  path = /tmp/sphinx//sphinx_index_delta
  docinfo = extern
  morphology = stem_en
  #   min_infix_len = 1
}

